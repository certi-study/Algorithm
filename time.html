입문 시간<br>
<input id="start_h">시 <input id="start_m">분<br>
조식<br>
<input name="morning" type="radio" value="0">X
<input name="morning" type="radio" value="30">식사
<input name="morning" type="radio" value="10">테이크아웃
<br>
석식<br>
<input name="dinner" type="radio" value="0">X
<input name="dinner" type="radio" value="30">식사
<input name="dinner" type="radio" value="10">테이크아웃
<br>
추가 제외 시간<br>
<input id="minus_h">시 <input id="minus_m">분
<hr/>
<div id="time"></div>
<div id="work"></div>
<script>
	var start_h, start_m;
	var minus_h, minus_m;
	var cur_h, cur_m, cur_s;
	
	var text, sum;
	function cal(){
		start_h = Number(document.getElementById("start_h").value);
		start_m = Number(document.getElementById("start_m").value);
		minus_h = Number(document.getElementById("minus_h").value);
		minus_m = Number(document.getElementById("minus_m").value);
	
		minus_m += Number(document.querySelector('input[name="morning"]:checked').value);
		minus_m += Number(document.querySelector('input[name="dinner"]:checked').value);
		
		today = new Date();
		cur_h = today.getHours();
		cur_m = today.getMinutes();
		cur_s = today.getSeconds();
		
		text = "현재시간 " + cur_h + ":" + cur_m + ":" + cur_s;
		document.getElementById("time").innerText = text;

		sum = ((cur_h * 60) + cur_m);
		sum -= ((start_h * 60) + start_m);
		if (sum > 240 && sum <= 480)
			sum -= 30;
		if (sum > 480)
			sum -= 60;
		sum -= ((minus_h * 60) + minus_m);
		text = "근무시간 " + Math.floor(sum / 60) + ":" + (sum % 60);
		document.getElementById("work").innerText = text;
	}

	setInterval("cal()", 1000)

</script>

